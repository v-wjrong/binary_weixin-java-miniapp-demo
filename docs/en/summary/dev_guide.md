[Go to Homepage](../README.md)

## Project Overview  
### Basic Project Information  
- **Name:** spring-boot-demo-for-wechat-miniapp  
- **GroupId (Maven):** com.github.binarywang  
- **ArtifactId (Maven):** weixin-java-miniapp-demo  
- **Version:** 1.0.0-SNAPSHOT  
- **Primary Programming Language:** Java  

## Prerequisites  
- **JDK Version:** 1.8 (inferred from Maven's `<maven.compiler.source>` and `<maven.compiler.target>` properties)  
- **Build Tool Version:** Maven (identified from the `pom.xml` file; no explicit Maven version specified; recommended to use a version compatible with Spring Boot 2.6.3, typically Maven 3.6.3+)  
- **Network Middleware Dependencies:**  
  - Redis (inferred from the `jedis` dependency, but no explicit version specified)  

## Build Guide  
### Maven Build  
- Build Commands:  
    - Clean build: `mvn clean`  
    - Compile project: `mvn compile`  
    - Package project: `mvn package`  
    - Install to local repository: `mvn install`  
    - Deploy project: `mvn deploy`  
- Build Process:  
    - The Maven build process mainly includes the following phases:  
        1. Clean (clean): Deletes files generated by previous builds  
        2. Compile (compile): Compiles the project source code  
        3. Test (test): Runs unit tests  
        4. Package (package): Packages the compiled code into a distributable format (e.g., JAR)  
        5. Verify (verify): Runs checks to validate the package  
        6. Install (install): Installs the package into the local repository  
        7. Deploy (deploy): Copies the final package to a remote repository  
- Output Directory:  
    - The generated JAR file is located in the `target/` directory by default  
    - The project uses the Spring Boot Maven plugin, which generates an executable JAR file  
    - For Docker builds, Docker-related files are located in the `src/main/docker/` directory  
    - The final Docker image name is `${docker.image.prefix}/${project.artifactId}`  

## Dependency Management  
### Key Dependencies  
- **Spring Boot Web:** `org.springframework.boot:spring-boot-starter-web` - Provides Spring MVC and embedded Tomcat support (version inherited from parent POM 2.6.3)  
- **Thymeleaf Template Engine:** `org.springframework.boot:spring-boot-starter-thymeleaf` - Web template rendering (version inherited from parent POM)  
- **WeChat Mini Program SDK:** `com.github.binarywang:weixin-java-miniapp:4.7.0` - WeChat Mini Program Java SDK  
- **File Upload:** `commons-fileupload:commons-fileupload:1.5` - Apache Commons file upload component  
- **Test Support:** `org.springframework.boot:spring-boot-starter-test` - Spring Boot test framework (test scope)  
- **Lombok:** `org.projectlombok:lombok` - Annotation-driven code generation tool (provided scope)  
- **Redis Client:** `redis.clients:jedis` - Redis Java client (version inherited from Spring Boot dependency management)  

### Adding/Modifying Dependencies  
- **Maven:** Add or modify `<dependency>` elements in the `<dependencies>` section of the `pom.xml` file, for example:  
  ```xml  
  <dependency>  
      <groupId>org.example</groupId>  
      <artifactId>new-dependency</artifactId>  
      <version>1.0.0</version>  
  </dependency>  
  ```  

### Dependency Version Management  
- **Maven (`<dependencyManagement>`):**  
  Dependency versions in this project are primarily controlled by the parent POM (`spring-boot-starter-parent 2.6.3`) dependency management mechanism. Custom versions are managed via the `<properties>` tag (e.g., `weixin-java-miniapp.version`). Dependencies without explicitly specified versions inherit the parent POM's version definitions.

## Project Structure

```text
weixin-java-miniapp-demo/
├── .editorconfig        # Editor configuration (cross-IDE style unification)
├── .gitignore          # Git ignore rules
├── README.md           # Project documentation
├── .travis.yml         # CI/CD configuration (Travis CI)
├── pom.xml             # Maven project configuration file
├── commit.sh           # Git commit script (presumed)
├── src/
│   └── main/
│       ├── java/
│       │   └── com/github/binarywang/demo/wx/miniapp/
│       │       ├── WxMaDemoApplication.java  # SpringBoot startup class
│       │       ├── controller/                # WeChat Mini Program controller layer
│       │       │   ├── WxMaMediaController.java   # Media processing
│       │       │   ├── WxMaUserController.java    # User management
│       │       │   └── WxPortalController.java    # Message entry
│       │       ├── utils/                     # Utility classes
│       │       │   └── JsonUtils.java          # JSON processing utility
│       │       ├── error/                     # Exception handling
│       │       │   ├── ErrorController.java    # Error controller
│       │       │   └── ErrorPageConfiguration.java # Error page configuration
│       │       └── config/                    # WeChat configuration
│       │           ├── WxMaProperties.java     # Configuration properties class
│       │           └── WxMaConfiguration.java  # Configuration initialization
│       ├── resources/
│       │   ├── application.yml.template       # Configuration template
│       │   ├── templates/                     # Frontend templates
│       │   │   └── error.html                 # Error page template
│       │   └── META-INF/                      # Metadata configuration
│       │       └── additional-spring-configuration-metadata.json # Spring configuration metadata
│       └── docker/
│           └── Dockerfile                     # Containerized deployment configuration
├── .git/                # Git version control directory
└── .github/
    └── FUNDING.yml      # GitHub sponsorship configuration
```

Naming conventions: Standard Java package naming (com.github.organization), directories use lowercase kebab-case  
Layered structure:  
- Core layers: SpringBoot standard structure (main/java + main/resources)  
- Business layers: Divided by WeChat functional modules (controller/config/utils)  
- Special layers: Independent error handling layer and docker deployment layer  

Extension design:  
1. Decoupled WeChat SDK configuration via config directory  
2. Provides application.yml.template for configuration templating  
3. Includes complete CI/CD support (.travis.yml + Dockerfile)  
4. Systematic error handling (independent error directory + HTML template)